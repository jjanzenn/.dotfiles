#+title: Homebrew Configuration

Set up Homebrew. I disable the quarantine automatically and ensure that the state of Homebrew is exactly as specified here.
#+begin_src nix
  { config, pkgs, ... }:

  {
    homebrew = {
      enable = true;

      caskArgs.no_quarantine = true;

      global.autoUpdate = false;
      onActivation = {
        autoUpdate = true;
        cleanup = "zap";
        upgrade = true;
      };

      taps = [
        "d12frosted/emacs-plus"
        "homebrew/bundle"
        "homebrew/cask-fonts"
        "homebrew/cask-versions"
        "homebrew/services"
        "jorgelbg/tap"
        "osx-cross/avr"
      ];

      brews = [
        "aescrypt"
        "avrdude"
        "bash-language-server"
        "bear"
        "binutils"
        "bison"
        "choose-gui"
        "clang-format"
        "cmake"
        "cmake-language-server"
        "coreutils"
        "curl"
        "dos2unix"
        "dotnet"
        {
          name = "emacs-plus";
          args = [
            "with-native-comp"
            "with-imagemagick"
            "with-xwidgets"
            "with-mailutils"
            "with-ctags"
            "with-retro-emacs-logo-icon"
          ];
        }
        "eza"
        "fd"
        "gcc"
        "gdk-pixbuf"
        "gnutls"
        "ffmpeg"
        "fzf"
        "gnupg"
        "gnupg2"
        "go"
        "gpgme"
        "grep"
        "gsasl"
        "htop"
        "hunspell"
        "hyfetch"
        "imagemagick"
        "ispell"
        "jansson"
        "jpeg"
        "jq"
        "latexdiff"
        "lesspipe"
        "libgccjit"
        "librsvg"
        "llvm@18"
        "marksman"
        "mailutils"
        "meson"
        "mono"
        "mpv"
        "ninja"
        "nmap"
        "nspr"
        "nss"
        "open-mpi"
        "open-ocd"
        "openjdk"
        "pandoc"
        "pinentry-mac"
        "pinentry-touchid"
        "poppler"
        "ripgrep"
        "rsync"
        "rust"
        "sevenzip"
        "shellcheck"
        "shfmt"
        "telnet"
        "tree-sitter"
        "typescript-language-server"
        "vscode-langservers-extracted"
        "wget"
        "yt-dlp"
        "felixkratz/formulae/sketchybar"
        "osx-cross/avr/avr-binutils"
        "osx-cross/avr/avarice"
        "osx-cross/avr/avr-gcc@14"
      ];

      casks = [
        "audacity"
        "blender"
        "cabal"
        "calibre"
        "desmume"
        "gcc-arm-embedded"
        "ghostty"
        "gimp"
        "godot"
        "inkscape"
        "krita"
        "multimc"
        "obs"
        "openemu"
        "pokemon-showdown"
        "proton-mail-bridge"
        "protonvpn"
        "qbittorrent"
        "rar"
        "syncthing"
        "thunderbird"
        "vlc"
        "whisky"
        "zen-browser"
        "zotero"
       ];
    };
  }
#+end_src
